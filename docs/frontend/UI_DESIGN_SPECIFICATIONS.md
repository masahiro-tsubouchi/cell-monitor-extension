# UI設計仕様書・ワイヤーフレーム

> **バージョン**: 1.0.0
> **最終更新日**: 2025-01-19
> **対象**: UI/UXデザイナー・フロントエンド開発者
> **基盤**: 186個のテストケース成功済みAPI

## 📋 概要

本ドキュメントは、講師ログイン・管理システムのUI設計仕様とワイヤーフレームを定義します。Material-UIベースのモダンなダッシュボード設計を採用し、レスポンシブ対応とアクセシビリティを重視します。

## 🎨 デザインシステム

### カラーパレット
```css
/* プライマリカラー */
--primary-main: #1976d2;      /* メインブルー */
--primary-light: #42a5f5;     /* ライトブルー */
--primary-dark: #1565c0;      /* ダークブルー */

/* セカンダリカラー */
--secondary-main: #dc004e;     /* アクセントピンク */
--secondary-light: #ff5983;    /* ライトピンク */
--secondary-dark: #9a0036;     /* ダークピンク */

/* ステータスカラー */
--status-available: #4caf50;   /* 対応可能（緑） */
--status-busy: #ff9800;        /* 対応中（オレンジ） */
--status-offline: #9e9e9e;     /* オフライン（グレー） */

/* システムカラー */
--success: #4caf50;            /* 成功 */
--warning: #ff9800;            /* 警告 */
--error: #f44336;              /* エラー */
--info: #2196f3;               /* 情報 */

/* ニュートラルカラー */
--grey-50: #fafafa;
--grey-100: #f5f5f5;
--grey-200: #eeeeee;
--grey-300: #e0e0e0;
--grey-400: #bdbdbd;
--grey-500: #9e9e9e;
--grey-600: #757575;
--grey-700: #616161;
--grey-800: #424242;
--grey-900: #212121;
```

### タイポグラフィ
```css
/* フォントファミリー */
--font-family: 'Roboto', 'Noto Sans JP', sans-serif;

/* フォントサイズ */
--font-size-h1: 2.125rem;      /* 34px */
--font-size-h2: 1.5rem;        /* 24px */
--font-size-h3: 1.25rem;       /* 20px */
--font-size-h4: 1.125rem;      /* 18px */
--font-size-body1: 1rem;       /* 16px */
--font-size-body2: 0.875rem;   /* 14px */
--font-size-caption: 0.75rem;  /* 12px */

/* フォントウェイト */
--font-weight-light: 300;
--font-weight-regular: 400;
--font-weight-medium: 500;
--font-weight-bold: 700;
```

### スペーシング
```css
/* 8pxベースのスペーシングシステム */
--spacing-1: 8px;
--spacing-2: 16px;
--spacing-3: 24px;
--spacing-4: 32px;
--spacing-5: 40px;
--spacing-6: 48px;
```

## 📱 レスポンシブブレークポイント

```css
/* Material-UI準拠のブレークポイント */
--breakpoint-xs: 0px;          /* モバイル */
--breakpoint-sm: 600px;        /* タブレット縦 */
--breakpoint-md: 900px;        /* タブレット横 */
--breakpoint-lg: 1200px;       /* デスクトップ */
--breakpoint-xl: 1536px;       /* 大画面デスクトップ */
```

## 🏗️ 画面構成・ワイヤーフレーム

### 1. ログイン画面

```
┌─────────────────────────────────────────────────────────────┐
│                    JupyterLab Cell Monitor                  │
│                      講師管理システム                        │
├─────────────────────────────────────────────────────────────┤
│                                                             │
│                    ┌─────────────────┐                     │
│                    │   ログインフォーム   │                     │
│                    │                 │                     │
│                    │ メールアドレス      │                     │
│                    │ [____________]  │                     │
│                    │                 │                     │
│                    │ パスワード         │                     │
│                    │ [____________]  │                     │
│                    │                 │                     │
│                    │   [ログイン]      │                     │
│                    │                 │                     │
│                    │ パスワードを忘れた場合  │                     │
│                    └─────────────────┘                     │
│                                                             │
├─────────────────────────────────────────────────────────────┤
│                    © 2025 JupyterLab Extension              │
└─────────────────────────────────────────────────────────────┘
```

**機能要件**:
- メールアドレス・パスワード入力フィールド
- バリデーション（リアルタイム）
- ログインボタン（ローディング状態表示）
- エラーメッセージ表示
- レスポンシブ対応（モバイルファースト）

### 2. ダッシュボード（メイン画面）

```
┌─────────────────────────────────────────────────────────────┐
│ [≡] JupyterLab Cell Monitor    [🔔] [👤 山田太郎 ▼] [ログアウト] │
├─────────────────────────────────────────────────────────────┤
│ [📊 ダッシュボード] [👥 講師管理] [📈 ステータス管理] [⚙️ 設定]    │
├─────────────────────────────────────────────────────────────┤
│                                                             │
│ ┌─────────────┐ ┌─────────────┐ ┌─────────────┐ ┌─────────────┐ │
│ │オンライン講師数│ │対応可能講師数│ │対応中講師数 │ │本日のセッション│ │
│ │     12      │ │      8      │ │      4      │ │     45      │ │
│ │   👥 +2     │ │   🟢 -1     │ │   🟠 +3     │ │   📊 +12    │ │
│ └─────────────┘ └─────────────┘ └─────────────┘ └─────────────┘ │
│                                                             │
│ ┌─────────────────────────────────────────────────────────┐   │
│ │                リアルタイム講師ステータス                 │   │
│ │ ┌─────────────────────────────────────────────────────┐ │   │
│ │ │ 山田太郎    🟢 対応可能  最終更新: 2分前            │ │   │
│ │ │ 佐藤花子    🟠 対応中    セッション: #123          │ │   │
│ │ │ 田中一郎    🟢 対応可能  最終更新: 5分前            │ │   │
│ │ │ 鈴木美咲    ⚫ オフライン 最終更新: 1時間前          │ │   │
│ │ └─────────────────────────────────────────────────────┘ │   │
│ └─────────────────────────────────────────────────────────┘   │
│                                                             │
│ ┌─────────────────────────────────────────────────────────┐   │
│ │                  最近のアクティビティ                    │   │
│ │ • 山田太郎が対応可能になりました (2分前)                  │   │
│ │ • 佐藤花子がセッション#123を開始しました (15分前)         │   │
│ │ • 田中一郎がログインしました (30分前)                    │   │
│ └─────────────────────────────────────────────────────────┘   │
└─────────────────────────────────────────────────────────────┘
```

**機能要件**:
- リアルタイム統計カード（WebSocket更新）
- 講師ステータス一覧（リアルタイム更新）
- アクティビティフィード
- レスポンシブグリッドレイアウト

### 3. 講師管理画面

```
┌─────────────────────────────────────────────────────────────┐
│ [≡] JupyterLab Cell Monitor    [🔔] [👤 山田太郎 ▼] [ログアウト] │
├─────────────────────────────────────────────────────────────┤
│ [📊 ダッシュボード] [👥 講師管理] [📈 ステータス管理] [⚙️ 設定]    │
├─────────────────────────────────────────────────────────────┤
│                                                             │
│ 講師管理                                  [+ 新規講師追加]     │
│                                                             │
│ ┌─────────────────────────────────────────────────────────┐   │
│ │ 検索: [____________] [🔍] フィルター: [全て▼] [アクティブのみ☑] │   │
│ └─────────────────────────────────────────────────────────┘   │
│                                                             │
│ ┌─────────────────────────────────────────────────────────┐   │
│ │ ID │ 名前    │ メール              │ ステータス │ 最終更新 │操作│ │
│ │────┼─────────┼─────────────────────┼──────────┼─────────┼───│ │
│ │ 1  │山田太郎  │yamada@example.com   │🟢 対応可能 │ 2分前   │📝✏️│ │
│ │ 2  │佐藤花子  │sato@example.com     │🟠 対応中   │15分前   │📝✏️│ │
│ │ 3  │田中一郎  │tanaka@example.com   │🟢 対応可能 │ 5分前   │📝✏️│ │
│ │ 4  │鈴木美咲  │suzuki@example.com   │⚫ オフライン│ 1時間前 │📝✏️│ │
│ └─────────────────────────────────────────────────────────┘   │
│                                                             │
│ ページ: [< 前へ] [1] [2] [3] [次へ >]    表示: 10件/ページ      │
└─────────────────────────────────────────────────────────────┘
```

**機能要件**:
- 検索・フィルター機能
- ソート機能（各列クリック）
- ページネーション
- 一括操作（選択・削除・ステータス変更）
- 詳細表示・編集モーダル

### 4. 講師詳細・編集モーダル

```
┌─────────────────────────────────────────────────────────────┐
│                    講師詳細・編集                [×]          │
├─────────────────────────────────────────────────────────────┤
│                                                             │
│ ┌─────────────────┐  基本情報                               │
│ │                 │                                        │
│ │   プロフィール    │  名前: [山田太郎___________]              │
│ │     画像        │                                        │
│ │                 │  メール: [yamada@example.com_______]     │
│ │   [画像変更]     │                                        │
│ └─────────────────┘  電話: [090-1234-5678__________]        │
│                                                             │
│ ステータス情報                                               │
│ 現在のステータス: 🟢 対応可能                                │
│ 最終ログイン: 2025-01-19 14:30:00                          │
│ セッション数（今日）: 3                                      │
│ セッション数（合計）: 156                                    │
│                                                             │
│ ┌─────────────────────────────────────────────────────────┐   │
│ │                   ステータス履歴                         │   │
│ │ 2025-01-19 14:30  🟢 対応可能                           │   │
│ │ 2025-01-19 13:45  🟠 対応中                             │   │
│ │ 2025-01-19 12:00  🟢 対応可能                           │   │
│ │ 2025-01-19 09:00  ⚫ オフライン                          │   │
│ └─────────────────────────────────────────────────────────┘   │
│                                                             │
│                           [保存] [キャンセル] [削除]         │
└─────────────────────────────────────────────────────────────┘
```

**機能要件**:
- プロフィール画像アップロード
- 基本情報編集フォーム
- ステータス履歴表示
- バリデーション・エラー表示
- 削除確認ダイアログ

### 5. ステータス管理画面

```
┌─────────────────────────────────────────────────────────────┐
│ [≡] JupyterLab Cell Monitor    [🔔] [👤 山田太郎 ▼] [ログアウト] │
├─────────────────────────────────────────────────────────────┤
│ [📊 ダッシュボード] [👥 講師管理] [📈 ステータス管理] [⚙️ 設定]    │
├─────────────────────────────────────────────────────────────┤
│                                                             │
│ ステータス管理                            [一括ステータス変更]   │
│                                                             │
│ ┌─────────────────────────────────────────────────────────┐   │
│ │ リアルタイム更新: 🟢 接続中    最終更新: 2秒前              │   │
│ └─────────────────────────────────────────────────────────┘   │
│                                                             │
│ ┌─────────────────────────────────────────────────────────┐   │
│ │☑│ 名前    │現在のステータス│セッションID │最終更新│ステータス変更│ │
│ │─┼─────────┼──────────────┼───────────┼─────────┼──────────│ │
│ │☑│山田太郎  │🟢 対応可能     │    -      │ 2分前  │[変更▼]   │ │
│ │☑│佐藤花子  │🟠 対応中       │sess_123   │15分前  │[変更▼]   │ │
│ │☑│田中一郎  │🟢 対応可能     │    -      │ 5分前  │[変更▼]   │ │
│ │☐│鈴木美咲  │⚫ オフライン   │    -      │ 1時間前│[変更▼]   │ │
│ └─────────────────────────────────────────────────────────┘   │
│                                                             │
│ ┌─────────────────────────────────────────────────────────┐   │
│ │                  ステータス変更履歴                      │   │
│ │ 14:30 山田太郎 🟠→🟢 (対応中→対応可能)                   │   │
│ │ 13:45 佐藤花子 🟢→🟠 (対応可能→対応中) セッション開始      │   │
│ │ 12:00 田中一郎 ⚫→🟢 (オフライン→対応可能) ログイン       │   │
│ └─────────────────────────────────────────────────────────┘   │
└─────────────────────────────────────────────────────────────┘
```

**機能要件**:
- リアルタイムステータス表示（WebSocket）
- 個別・一括ステータス変更
- ステータス変更履歴
- 選択機能（チェックボックス）
- 自動更新インジケーター

## 🎯 状態遷移図

### 講師ステータス遷移
```
    ログイン
       ↓
   🟢 対応可能 ←─────┐
       ↓           │
   セッション開始    │ セッション終了
       ↓           │
    🟠 対応中 ──────┘
       ↓
   ログアウト
       ↓
   ⚫ オフライン
```

### 画面遷移フロー
```
ログイン画面
    ↓
ダッシュボード ←─────┐
    ↓              │
講師管理画面 ────────┤
    ↓              │
講師詳細モーダル ────┤
    ↓              │
ステータス管理画面 ──┘
```

## 📱 モバイル対応

### モバイル版ワイヤーフレーム（375px幅）

```
┌─────────────────────────┐
│ [≡] JupyterLab [👤][🔔] │
├─────────────────────────┤
│                         │
│ ┌─────────────────────┐ │
│ │   オンライン講師数   │ │
│ │        12          │ │
│ │      👥 +2         │ │
│ └─────────────────────┘ │
│                         │
│ ┌─────────────────────┐ │
│ │   対応可能講師数     │ │
│ │         8          │ │
│ │       🟢 -1        │ │
│ └─────────────────────┘ │
│                         │
│ ┌─────────────────────┐ │
│ │  リアルタイム状況   │ │
│ │ 山田太郎 🟢 2分前   │ │
│ │ 佐藤花子 🟠 15分前  │ │
│ │ 田中一郎 🟢 5分前   │ │
│ │     [もっと見る]    │ │
│ └─────────────────────┘ │
│                         │
├─────────────────────────┤
│[📊][👥][📈][⚙️]        │
└─────────────────────────┘
```

## 🎨 コンポーネント設計

### 1. StatusChip コンポーネント
```tsx
interface StatusChipProps {
  status: 'AVAILABLE' | 'BUSY' | 'OFFLINE';
  size?: 'small' | 'medium';
  showIcon?: boolean;
}

// 使用例
<StatusChip status="AVAILABLE" size="small" showIcon />
// 表示: 🟢 対応可能
```

### 2. InstructorCard コンポーネント
```tsx
interface InstructorCardProps {
  instructor: Instructor;
  onStatusChange?: (id: number, status: InstructorStatus) => void;
  onEdit?: (id: number) => void;
  showActions?: boolean;
}
```

### 3. RealTimeIndicator コンポーネント
```tsx
interface RealTimeIndicatorProps {
  isConnected: boolean;
  lastUpdate?: Date;
  connectionCount?: number;
}
```

## 🔧 技術実装ガイドライン

### Material-UI テーマ設定
```tsx
import { createTheme } from '@mui/material/styles';

const theme = createTheme({
  palette: {
    primary: {
      main: '#1976d2',
      light: '#42a5f5',
      dark: '#1565c0',
    },
    secondary: {
      main: '#dc004e',
      light: '#ff5983',
      dark: '#9a0036',
    },
    success: {
      main: '#4caf50', // AVAILABLE
    },
    warning: {
      main: '#ff9800', // BUSY
    },
    grey: {
      500: '#9e9e9e', // OFFLINE
    },
  },
  typography: {
    fontFamily: '"Roboto", "Noto Sans JP", sans-serif',
  },
  spacing: 8, // 8px base spacing
});
```

### レスポンシブ実装例
```tsx
import { useTheme, useMediaQuery } from '@mui/material';

function ResponsiveLayout() {
  const theme = useTheme();
  const isMobile = useMediaQuery(theme.breakpoints.down('sm'));
  const isTablet = useMediaQuery(theme.breakpoints.between('sm', 'md'));

  return (
    <Grid container spacing={isMobile ? 1 : 2}>
      <Grid item xs={12} sm={6} md={4} lg={3}>
        {/* カード表示 */}
      </Grid>
    </Grid>
  );
}
```

### WebSocket統合例
```tsx
import { useEffect, useState } from 'react';

function useInstructorStatus() {
  const [instructors, setInstructors] = useState<Instructor[]>([]);
  const [wsConnected, setWsConnected] = useState(false);

  useEffect(() => {
    const token = localStorage.getItem('instructor_token');
    const ws = new WebSocket(`ws://localhost:8000/instructor/ws?token=${token}`);

    ws.onopen = () => setWsConnected(true);
    ws.onclose = () => setWsConnected(false);
    ws.onmessage = (event) => {
      const data = JSON.parse(event.data);
      if (data.type === 'status_update') {
        // ステータス更新処理
        setInstructors(prev => prev.map(instructor =>
          instructor.id === data.data.instructor_id
            ? { ...instructor, status: data.data.status }
            : instructor
        ));
      }
    };

    return () => ws.close();
  }, []);

  return { instructors, wsConnected };
}
```

## 🧪 テスト戦略

### ユニットテスト
- コンポーネント単体テスト（React Testing Library）
- フック単体テスト（@testing-library/react-hooks）
- ユーティリティ関数テスト（Jest）

### 統合テスト
- API統合テスト（MSW）
- WebSocket統合テスト
- 状態管理テスト（Redux/Context）

### E2Eテスト
- ログインフロー（Playwright）
- 講師管理フロー（Playwright）
- ステータス管理フロー（Playwright）

## 🚀 実装優先順位

### Phase 1: 基本UI実装（2週間）
1. ログイン画面
2. ダッシュボード（基本レイアウト）
3. 講師一覧画面
4. 基本的なナビゲーション

### Phase 2: 機能実装（3週間）
1. 講師CRUD機能
2. ステータス管理機能
3. 検索・フィルター機能
4. ページネーション

### Phase 3: リアルタイム機能（2週間）
1. WebSocket統合
2. リアルタイム更新
3. 通知機能
4. 接続状態表示

### Phase 4: 最適化・テスト（2週間）
1. パフォーマンス最適化
2. アクセシビリティ対応
3. E2Eテスト実装
4. モバイル最適化

この設計仕様により、186個のテストケースで品質保証されたAPIを基盤として、モダンで使いやすい講師管理システムのフロントエンドを効率的に開発できます。
