# 生徒進捗ダッシュボード設計仕様書

> **バージョン**: 1.0.0
> **最終更新日**: 2025-01-19
> **対象**: 講師・教育者・システム管理者

## 📋 概要

JupyterLab Cell Monitor Extension の既存API（186個のテストケース成功済み）を活用し、講師が授業中に生徒の進捗をリアルタイムで把握し、適切な支援を提供するダッシュボード。

## 🎯 教育的目標・ベストプラクティス

### 1. 個別化学習支援
- **早期発見**: 困っている生徒を即座に特定
- **適切な介入**: 個々の学習状況に応じた支援
- **学習継続**: 脱落防止とモチベーション維持

### 2. 授業運営最適化
- **速度調整**: クラス全体の理解度に基づく進行速度調整
- **内容調整**: 理解度の低い部分の重点説明
- **効率化**: 支援が必要な生徒への効率的なリソース配分

## 📊 利用可能データソース

### リアルタイムイベントデータ
```json
{
  "event_type": "cell_execution_start",
  "student_id": "student_123",
  "cell_id": "cell_001",
  "timestamp": "2025-01-19T14:30:00Z",
  "execution_time": 2.5,
  "success": true,
  "error_type": "SyntaxError"
}
```

## 🖥️ ダッシュボード画面設計

### 1. メインダッシュボード（クラス全体俯瞰）

```
┌─────────────────────────────────────────────────────────────┐
│ 📚 Python基礎講座 - Lesson 1    👥 25名参加中  ⏰ 14:30    │
├─────────────────────────────────────────────────────────────┤
│ ┌─────────┐ ┌─────────┐ ┌─────────┐ ┌─────────┐ ┌─────────┐ │
│ │🟢順調進行│ │🟡少し遅れ│ │🔴支援必要│ │⏸️停止中 │ │✅完了済み│ │
│ │  15名   │ │   6名   │ │   3名   │ │   1名   │ │   0名   │ │
│ │ (60%)   │ │ (24%)   │ │ (12%)   │ │  (4%)   │ │  (0%)   │ │
│ └─────────┘ └─────────┘ └─────────┘ └─────────┘ └─────────┘ │
│                                                             │
│ 📊 クラス全体進捗状況                                        │
│ セル1 ████████████████████████████████████████ 100% (25/25) │
│ セル2 ████████████████████████████████████████ 100% (25/25) │
│ セル3 ███████████████████████████████████████▒  96% (24/25) │
│ セル4 ████████████████████████████▒▒▒▒▒▒▒▒▒▒▒  80% (20/25) │
│ セル5 ████████████████████████▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒  64% (16/25) │
│                                                             │
│ 🚨 緊急支援が必要な生徒                                      │
│ 🔴 田中花子  エラー継続3分  セル4: SyntaxError  [支援開始]   │
│ 🔴 佐藤太郎  停止5分      セル3: 実行なし      [支援開始]   │
│ 🟡 山田美咲  遅れ気味     セル2: 実行時間長い   [確認]      │
└─────────────────────────────────────────────────────────────┘
```

### 2. 個別生徒詳細ビュー

```
┌─────────────────────────────────────────────────────────────┐
│ 👤 田中花子 (student_123) - 詳細進捗              [支援開始] │
├─────────────────────────────────────────────────────────────┤
│ 基本情報: 参加30分 | 進捗53% | エラー3回 | 🔴支援必要       │
│                                                             │
│ 📈 リアルタイム学習状況                                      │
│ 14:28 セル4 ❌ SyntaxError: invalid syntax (再試行3回目)    │
│ 14:25 セル4 ❌ NameError: name 'x' is not defined          │
│ 14:23 セル4 ❌ SyntaxError: invalid syntax                 │
│ 14:20 セル3 ✅ 成功 (実行時間: 1.2秒)                       │
│                                                             │
│ 🎯 推奨支援アクション                                        │
│ 1. 🔴 緊急: 画面共有でセル4のコードを直接確認                │
│ 2. 💬 メッセージ: 「変数名のスペルを確認してください」        │
│ 3. 📝 ヒント送信: セル4の正しいコード例を送信                │
│                                                             │
│ [画面共有開始] [メッセージ送信] [ヒント送信]                 │
└─────────────────────────────────────────────────────────────┘
```

### 3. 授業速度調整ダッシュボード

```
┌─────────────────────────────────────────────────────────────┐
│ ⚡ 授業速度最適化ダッシュボード              [自動調整: ON] │
├─────────────────────────────────────────────────────────────┤
│ 🎯 現在の授業状況                                            │
│ 予定進度: セル6 (40%) | 実際進度: セル5 (33%) | 遅れ: 7分   │
│ 理解度: 78% | 完了率: 64% | 支援必要: 3名                   │
│                                                             │
│ 📊 速度調整推奨アクション                                    │
│ 🔴 推奨: 授業速度を20%減速                                   │
│ 理由: 24%の生徒が遅れ、セル4で多数エラー発生                │
│                                                             │
│ 具体的アクション:                                            │
│ ✅ セル4の説明を5分延長 (変数の概念を再説明)                │
│ ✅ 全体向けヒント: 「変数名は英数字のみ使用」                │
│ ✅ 休憩時間を3分追加                                        │
│                                                             │
│ [速度調整実行] [全体アナウンス] [休憩時間追加]               │
└─────────────────────────────────────────────────────────────┘
```

## 🚨 アラート・通知システム

### 緊急度別アラート

#### 🔴 緊急 (即座に対応が必要)
- **条件**: エラー継続3分以上、または5分以上無活動
- **通知**: 音声アラート + 画面点滅
- **推奨アクション**: 画面共有、直接支援

#### 🟡 注意 (近いうちに対応が必要)
- **条件**: 平均より30%以上遅れ、またはエラー率20%以上
- **通知**: 視覚的ハイライト
- **推奨アクション**: メッセージ送信、ヒント提供

## 💬 コミュニケーション機能

### メッセージテンプレート
```typescript
const messageTemplates = {
  encouragement: "順調に進んでいますね！その調子で頑張ってください。",
  hint: "変数名にスペルミスがないか確認してみてください。",
  help: "困っているようですね。画面を共有して一緒に確認しましょう。"
};
```

## 🔧 技術実装仕様

### WebSocket通信
```typescript
interface ProgressUpdate {
  studentId: string;
  cellId: string;
  status: 'executing' | 'completed' | 'error' | 'idle';
  timestamp: Date;
  executionTime?: number;
  errorMessage?: string;
}
```

### 進捗計算アルゴリズム
```typescript
class StudentProgress {
  calculateProgressPercentage(): number {
    return (this.currentCell / this.totalCells) * 100;
  }

  needsUrgentHelp(): boolean {
    return this.getInactivityMinutes() > 5 ||
           this.getContinuousErrorMinutes() > 3;
  }
}
```

## 🚀 実装優先順位

### Phase 1: 基本監視機能（2週間）
1. リアルタイム進捗表示
2. 基本アラート機能
3. 個別生徒詳細ビュー

### Phase 2: 支援機能（2週間）
1. メッセージング機能
2. ヒント送信機能
3. 画面共有統合

### Phase 3: 最適化機能（2週間）
1. 授業速度調整
2. 自動アラート
3. 分析レポート

この設計により、講師は生徒一人ひとりの学習状況を把握し、適切なタイミングで支援を提供できます。
