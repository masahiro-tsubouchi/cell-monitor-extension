# =======================================================
# JupyterLab Cell Monitor Extension - щЦЛчЩ║чТ░хвГшинхоЪ
# =======================================================
# щЦЛчЩ║чТ░хвГх░ВчФиуБошинхоЪуГХуВбуВдуГл
# ф╜┐чФицЦ╣ц│Х: ./scripts/setup-env.sh development

# =======================================================
# ЁЯМН чТ░хвГшинхоЪ (CENTRAL CONFIGURATION)
# =======================================================
NODE_ENV=development

# уГЩуГ╝уВ╣уГЫуВ╣уГИшинхоЪя╝ИщЦЛчЩ║чТ░хвГя╝Й
SERVER_HOST=localhost
SERVER_IP=${SERVER_HOST}

# уГЧуГнуГИуВ│уГлшинхоЪя╝ИщЦЛчЩ║чТ░хвГуБпHTTPя╝Й
USE_HTTPS=false
HTTP_PROTOCOL=http:
WS_PROTOCOL=ws:

# уГЭуГ╝уГИшинхоЪ
INSTRUCTOR_DASHBOARD_PORT=3000
JUPYTERLAB_PORT=8888
FASTAPI_PORT=8000
POSTGRES_PORT=5432
INFLUXDB_PORT=8086
REDIS_PORT=6379

# Docker UID/GID
HOST_UID=1000
HOST_GID=1000

# =======================================================
# ЁЯМР хдЦщГиуВвуВпуВ╗уВ╣чФиURLя╝ИуГЦуГйуВжуВ╢уБЛуВЙуБоуВвуВпуВ╗уВ╣я╝Й
# =======================================================
# уГХуГнуГ│уГИуВиуГ│уГЙшинхоЪ (instructor-dashboard)
REACT_APP_API_BASE_URL=${HTTP_PROTOCOL}//${SERVER_IP}:${FASTAPI_PORT}/api/v1
REACT_APP_WS_URL=${WS_PROTOCOL}//${SERVER_IP}:${FASTAPI_PORT}
REACT_APP_DEBUG=true

# JupyterLab ExtensionчФи
CELL_MONITOR_SERVER_URL=http://fastapi:8000/api/v1/events
JUPYTERLAB_URL=${HTTP_PROTOCOL}//${SERVER_IP}:${JUPYTERLAB_PORT}
FASTAPI_URL=${HTTP_PROTOCOL}//${SERVER_IP}:${FASTAPI_PORT}/api/v1/events

# =======================================================
# ЁЯР│ DockerхЖЕщГищАЪф┐бчФишинхоЪя╝ИуВ│уГ│уГЖуГКщЦУщАЪф┐бя╝Й
# =======================================================
POSTGRES_SERVER=postgres
REDIS_HOST=redis
INFLUXDB_SERVER=http://influxdb

# =======================================================
# ЁЯЪА FastAPIуВ╡уГ╝уГРуГ╝шинхоЪ
# =======================================================
PROJECT_NAME=Student Progress Tracker API (Development)
PROJECT_VERSION=1.0.0
API_V1_STR=/api/v1

# CORSшинхоЪя╝ИщЦЛчЩ║чТ░хвГуБзуБпхпЫхо╣уБкшинхоЪя╝Й
BACKEND_CORS_ORIGINS=${HTTP_PROTOCOL}//${SERVER_IP}:${JUPYTERLAB_PORT},${HTTP_PROTOCOL}//${SERVER_IP}:${INSTRUCTOR_DASHBOARD_PORT},http://jupyterlab:8888

# уГнуВ░уГмуГЩуГл
LOG_LEVEL=DEBUG
DEBUG=true

# =======================================================
# ЁЯЧДя╕П уГЗуГ╝уВ┐уГЩуГ╝уВ╣шинхоЪ
# =======================================================
POSTGRES_USER=admin
POSTGRES_PASSWORD=secretpassword
POSTGRES_DB=progress_db

INFLUXDB_INIT_USERNAME=admin
INFLUXDB_INIT_PASSWORD=secretpassword
INFLUXDB_INIT_ORG=my-org
INFLUXDB_INIT_BUCKET=progress_bucket
INFLUXDB_INIT_ADMIN_TOKEN=my-super-secret-token

# =======================================================
# ЁЯФР уВ╗уВнуГеуГкуГЖуВгшинхоЪ (щЦЛчЩ║чТ░хвГ)
# =======================================================
SECRET_KEY=development-secret-key-do-not-use-in-production
ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=30
JUPYTER_TOKEN=easy

# =======================================================
# ЁЯзк JupyterLabцЛбх╝╡цйЯшГ╜шинхоЪ
# =======================================================
CELL_MONITOR_DEFAULT_EMAIL=student001@example.com
CELL_MONITOR_DEFAULT_TEAM=уГБуГ╝уГаA
CELL_MONITOR_DEFAULT_USER=уГЖуВ╣уГИхнжчФЯ001
CELL_MONITOR_TEST_MODE=true

# CSPшинхоЪ
CSP_FASTAPI_HOSTS=fastapi:8000,${SERVER_IP}:${FASTAPI_PORT},127.0.0.1:${FASTAPI_PORT}

# =======================================================
# ЁЯФз Docker BuildшинхоЪ
# =======================================================
PYTHON_VERSION=3.12-slim
NODE_VERSION=18-alpine
NODE_MAJOR_VERSION=20
JUPYTERLAB_VERSION=4.0
POSTGRES_VERSION=16-alpine
REDIS_VERSION=7-alpine
INFLUXDB_VERSION=2.7

# =======================================================
# ЁЯФН чЫгшжЦуГ╗уГнуВ░шинхоЪ
# =======================================================
LOG_FORMAT=json
LOG_ROTATION=daily
ENABLE_METRICS=true
METRICS_PORT=9090
HEALTH_CHECK_INTERVAL=30s
HEALTH_CHECK_TIMEOUT=10s
HEALTH_CHECK_RETRIES=3
HEALTH_CHECK_TIMEOUT=60